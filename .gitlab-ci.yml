variables:
  TYPE: app

image: golang:1.20

include:
  - project: shared-scripts/gitlab-ci
    file: /autodevops-golang-1.19.yml
    ref: golang-pipeline

# mockgen setup
Test:
  before_script:
    - export PATH=$GOPATH/bin:$PATH
    - go get github.com/golang/mock/mockgen
    - go install github.com/golang/mock/mockgen
Vet:
  before_script:
    - export PATH=$GOPATH/bin:$PATH
    - go get github.com/golang/mock/mockgen
    - go install github.com/golang/mock/mockgen
Build:
  before_script:
    - export PATH=$GOPATH/bin:$PATH
    - go get github.com/golang/mock/mockgen
    - go install github.com/golang/mock/mockgen
Dependency-Track:
  before_script:
  - export PATH=$GOPATH/bin:$PATH
  - go get github.com/golang/mock/mockgen
  - go install github.com/golang/mock/mockgen

Docker Release:
  variables:
    PROJECT_VERSION: "${CI_COMMIT_REF_NAME}"

Deploy Dev Manual:
  rules:
  - when: never
Deploy Fat:
  rules:
    - when: never
